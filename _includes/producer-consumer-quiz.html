<div class="quiz" id="quiz-producer-consumer-quiz">
  <h3>Test Your Understanding</h3>
  <div class="quiz-container">
    <div class="quiz-question" id="q-producer-consumer-quiz-1" style="display: block;">
      <p class="quiz-question-text"><strong>1. What problem does the Producer-Consumer pattern solve?</strong></p>
      <div class="quiz-options">
        <label class="quiz-option">
          <input type="radio" name="q-producer-consumer-quiz-1" value="1" data-correct="true">
          <span>Coordinating threads that produce and consume data at different rates</span>
        </label>
        <label class="quiz-option">
          <input type="radio" name="q-producer-consumer-quiz-1" value="2" data-correct="false">
          <span>Making threads run faster</span>
        </label>
        <label class="quiz-option">
          <input type="radio" name="q-producer-consumer-quiz-1" value="3" data-correct="false">
          <span>Preventing deadlocks</span>
        </label>
        <label class="quiz-option">
          <input type="radio" name="q-producer-consumer-quiz-1" value="4" data-correct="false">
          <span>Reducing memory usage</span>
        </label>
      </div>
      <button class="quiz-btn-check" onclick="checkAnswer(event, 'producer-consumer-quiz', 1, 'Producer-Consumer pattern decouples producers and consumers using a buffer (BlockingQueue). Producers add items, consumers remove items. The queue handles coordination and prevents overwhelming or starving either side.')">Check Answer</button>
      <div class="quiz-feedback" id="feedback-producer-consumer-quiz-1" style="display: none;">
        <p class="quiz-feedback-text"></p>
        <p class="quiz-explanation"></p>
      </div>
    </div>

    <div class="quiz-question" id="q-producer-consumer-quiz-2" style="display: none;">
      <p class="quiz-question-text"><strong>2. What does BlockingQueue.put() do when the queue is full?</strong></p>
      <div class="quiz-options">
        <label class="quiz-option">
          <input type="radio" name="q-producer-consumer-quiz-2" value="1" data-correct="false">
          <span>Throws an exception immediately</span>
        </label>
        <label class="quiz-option">
          <input type="radio" name="q-producer-consumer-quiz-2" value="2" data-correct="true">
          <span>Blocks and waits until space becomes available</span>
        </label>
        <label class="quiz-option">
          <input type="radio" name="q-producer-consumer-quiz-2" value="3" data-correct="false">
          <span>Returns false and continues</span>
        </label>
        <label class="quiz-option">
          <input type="radio" name="q-producer-consumer-quiz-2" value="4" data-correct="false">
          <span>Overwrites the oldest element</span>
        </label>
      </div>
      <button class="quiz-btn-check" onclick="checkAnswer(event, 'producer-consumer-quiz', 2, 'put() blocks (waits) when the queue is full. The producer thread pauses until a consumer removes an item, freeing up space. This prevents overwhelming the system.')">Check Answer</button>
      <div class="quiz-feedback" id="feedback-producer-consumer-quiz-2" style="display: none;">
        <p class="quiz-feedback-text"></p>
        <p class="quiz-explanation"></p>
      </div>
    </div>

    <div class="quiz-question" id="q-producer-consumer-quiz-3" style="display: none;">
      <p class="quiz-question-text"><strong>3. What is the difference between put() and offer()?</strong></p>
      <div class="quiz-options">
        <label class="quiz-option">
          <input type="radio" name="q-producer-consumer-quiz-3" value="1" data-correct="false">
          <span>They do the same thing</span>
        </label>
        <label class="quiz-option">
          <input type="radio" name="q-producer-consumer-quiz-3" value="2" data-correct="true">
          <span>put() blocks forever when full, offer() returns false immediately</span>
        </label>
        <label class="quiz-option">
          <input type="radio" name="q-producer-consumer-quiz-3" value="3" data-correct="false">
          <span>put() is thread-safe, offer() is not</span>
        </label>
        <label class="quiz-option">
          <input type="radio" name="q-producer-consumer-quiz-3" value="4" data-correct="false">
          <span>offer() is faster than put()</span>
        </label>
      </div>
      <button class="quiz-btn-check" onclick="checkAnswer(event, 'producer-consumer-quiz', 3, 'put() waits indefinitely when queue is full. offer() returns false immediately if no space available. Use put() when you must add the item, offer() when you want to try without blocking.')">Check Answer</button>
      <div class="quiz-feedback" id="feedback-producer-consumer-quiz-3" style="display: none;">
        <p class="quiz-feedback-text"></p>
        <p class="quiz-explanation"></p>
      </div>
    </div>

    <div class="quiz-question" id="q-producer-consumer-quiz-4" style="display: none;">
      <p class="quiz-question-text"><strong>4. Which BlockingQueue has zero capacity?</strong></p>
      <div class="quiz-options">
        <label class="quiz-option">
          <input type="radio" name="q-producer-consumer-quiz-4" value="1" data-correct="false">
          <span>ArrayBlockingQueue</span>
        </label>
        <label class="quiz-option">
          <input type="radio" name="q-producer-consumer-quiz-4" value="2" data-correct="false">
          <span>LinkedBlockingQueue</span>
        </label>
        <label class="quiz-option">
          <input type="radio" name="q-producer-consumer-quiz-4" value="3" data-correct="true">
          <span>SynchronousQueue</span>
        </label>
        <label class="quiz-option">
          <input type="radio" name="q-producer-consumer-quiz-4" value="4" data-correct="false">
          <span>PriorityBlockingQueue</span>
        </label>
      </div>
      <button class="quiz-btn-check" onclick="checkAnswer(event, 'producer-consumer-quiz', 4, 'SynchronousQueue has zero capacity. It is a direct handoff: producer waits until consumer is ready to take the item. No buffering. Used in Executors.newCachedThreadPool().')">Check Answer</button>
      <div class="quiz-feedback" id="feedback-producer-consumer-quiz-4" style="display: none;">
        <p class="quiz-feedback-text"></p>
        <p class="quiz-explanation"></p>
      </div>
    </div>

    <div class="quiz-navigation">
      <button class="quiz-btn-nav" id="btn-prev-producer-consumer-quiz" onclick="prevQuestion('producer-consumer-quiz', 4)" style="display: none;">Previous</button>
      <span class="quiz-progress" id="progress-producer-consumer-quiz">1 / 4</span>
      <button class="quiz-btn-nav" id="btn-next-producer-consumer-quiz" onclick="nextQuestion('producer-consumer-quiz', 4)">Next</button>
    </div>

    <button class="quiz-btn-reset" onclick="resetQuiz('producer-consumer-quiz', 4)">Reset Quiz</button>
  </div>
</div>
